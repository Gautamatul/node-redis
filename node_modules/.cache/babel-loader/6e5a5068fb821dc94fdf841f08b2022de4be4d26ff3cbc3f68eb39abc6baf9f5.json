{"ast":null,"code":"import _regeneratorRuntime from\"/Users/atulgautam/Documents/node-redis/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(getAccounts),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(deleteAccount),_marked3=/*#__PURE__*/_regeneratorRuntime().mark(createAccount),_marked4=/*#__PURE__*/_regeneratorRuntime().mark(watchGetAccounts),_marked5=/*#__PURE__*/_regeneratorRuntime().mark(watchDeleteAccount),_marked6=/*#__PURE__*/_regeneratorRuntime().mark(watchAddNewAccount);import{call,put,takeEvery}from'redux-saga/effects';import{setAccounts}from'../Actions/AccountActions';import{deleteData,getData,postData}from'../api/httpClient';import*as actionTypes from'../Actions/AccountActions';/**\n * GET_ACCOUNTS trigger the get request which takes a generator function makes get request and trigger another action to \n * update the reducer state.\n * \n */export function getAccounts(){var results;return _regeneratorRuntime().wrap(function getAccounts$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return call(getData,\"/accounts\");case 3:results=_context.sent;_context.next=6;return put(setAccounts(results.data));case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"ERROR !!\"+_context.t0);case 11:case\"end\":return _context.stop();}},_marked,null,[[0,8]]);}export function deleteAccount(action){var results;return _regeneratorRuntime().wrap(function deleteAccount$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return call(deleteData,\"/accounts/\".concat(action.accountId));case 3:results=_context2.sent;_context2.next=6;return put(actionTypes.getAccounts());case 6:_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(\"ERROR !!\"+_context2.t0);case 11:case\"end\":return _context2.stop();}},_marked2,null,[[0,8]]);}export function createAccount(action){var results;return _regeneratorRuntime().wrap(function createAccount$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return call(postData,\"/accounts\",action.account);case 3:results=_context3.sent;_context3.next=6;return put(actionTypes.getAccounts());case 6:_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(\"ERROR !!\"+_context3.t0);case 11:case\"end\":return _context3.stop();}},_marked3,null,[[0,8]]);}export function watchGetAccounts(){return _regeneratorRuntime().wrap(function watchGetAccounts$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return takeEvery(actionTypes.GET_ACCOUNTS,getAccounts);case 2:case\"end\":return _context4.stop();}},_marked4);}export function watchDeleteAccount(){return _regeneratorRuntime().wrap(function watchDeleteAccount$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return takeEvery(actionTypes.DELETE_ACCOUNT,deleteAccount);case 2:case\"end\":return _context5.stop();}},_marked5);}export function watchAddNewAccount(){return _regeneratorRuntime().wrap(function watchAddNewAccount$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return takeEvery(actionTypes.CREATE_ACCOUNT,createAccount);case 2:case\"end\":return _context6.stop();}},_marked6);}","map":{"version":3,"names":["getAccounts","deleteAccount","createAccount","watchGetAccounts","watchDeleteAccount","watchAddNewAccount","call","put","takeEvery","setAccounts","deleteData","getData","postData","actionTypes","results","data","console","log","action","accountId","account","GET_ACCOUNTS","DELETE_ACCOUNT","CREATE_ACCOUNT"],"sources":["/Users/atulgautam/Documents/node-redis/src/sagas/accountSagas.js"],"sourcesContent":["import {call, put, takeEvery} from 'redux-saga/effects'\nimport { setAccounts } from '../Actions/AccountActions';\nimport { deleteData, getData, postData } from '../api/httpClient';\nimport * as actionTypes from '../Actions/AccountActions';\n\n/**\n * GET_ACCOUNTS trigger the get request which takes a generator function makes get request and trigger another action to \n * update the reducer state.\n * \n */\n\n\nexport function* getAccounts () {\n    // yield put(clearErrorActiob())\n    try {\n        const results = yield call(getData,\"/accounts\");\n        yield put (setAccounts(results.data));\n\n\n    } catch(ex) {\n         console.log (\"ERROR !!\" + ex)\n    }\n}\n\nexport function* deleteAccount (action) {\n    try {\n        const results = yield call(deleteData,`/accounts/${action.accountId}`);\n        yield put(actionTypes.getAccounts())\n\n\n    } catch(ex) {\n         console.log (\"ERROR !!\" + ex)\n    }\n\n}\n\nexport function* createAccount (action) {\n    try {\n        const results = yield call(postData,\"/accounts\", action.account);\n        yield put(actionTypes.getAccounts())\n\n\n    } catch(ex) {\n         console.log (\"ERROR !!\" + ex)\n    }\n\n}\n\n\nexport function* watchGetAccounts() {\n    yield takeEvery(actionTypes.GET_ACCOUNTS, getAccounts)\n}\n\nexport function* watchDeleteAccount() {\n    yield takeEvery(actionTypes.DELETE_ACCOUNT, deleteAccount)\n}\n\nexport function* watchAddNewAccount() {\n    yield takeEvery(actionTypes.CREATE_ACCOUNT, createAccount)\n}"],"mappings":"0LAYiBA,WAAW,mDAYXC,aAAa,mDAYbC,aAAa,mDAabC,gBAAgB,mDAIhBC,kBAAkB,mDAIlBC,kBAAkB,EAzDnC,OAAQC,IAAI,CAAEC,GAAG,CAAEC,SAAS,KAAO,oBAAoB,CACvD,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAASC,UAAU,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,mBAAmB,CACjE,MAAO,GAAKC,YAAW,KAAM,2BAA2B,CAExD;AACA;AACA;AACA;AACA,GAGA,MAAO,SAAUb,YAAW,oKAGJ,MAAMM,KAAI,CAACK,OAAO,CAAC,WAAW,CAAC,QAAzCG,OAAO,+BACb,MAAMP,IAAG,CAAEE,WAAW,CAACK,OAAO,CAACC,IAAI,CAAC,CAAC,uFAIpCC,OAAO,CAACC,GAAG,CAAE,UAAU,YAAK,CAAC,oEAItC,MAAO,SAAUhB,cAAa,CAAEiB,MAAM,0KAEd,MAAMZ,KAAI,CAACI,UAAU,qBAAcQ,MAAM,CAACC,SAAS,EAAG,QAAhEL,OAAO,iCACb,MAAMP,IAAG,CAACM,WAAW,CAACb,WAAW,EAAE,CAAC,2FAInCgB,OAAO,CAACC,GAAG,CAAE,UAAU,aAAK,CAAC,sEAKtC,MAAO,SAAUf,cAAa,CAAEgB,MAAM,0KAEd,MAAMZ,KAAI,CAACM,QAAQ,CAAC,WAAW,CAAEM,MAAM,CAACE,OAAO,CAAC,QAA1DN,OAAO,iCACb,MAAMP,IAAG,CAACM,WAAW,CAACb,WAAW,EAAE,CAAC,2FAInCgB,OAAO,CAACC,GAAG,CAAE,UAAU,aAAK,CAAC,sEAMtC,MAAO,SAAUd,iBAAgB,iJAC7B,MAAMK,UAAS,CAACK,WAAW,CAACQ,YAAY,CAAErB,WAAW,CAAC,wDAG1D,MAAO,SAAUI,mBAAkB,mJAC/B,MAAMI,UAAS,CAACK,WAAW,CAACS,cAAc,CAAErB,aAAa,CAAC,wDAG9D,MAAO,SAAUI,mBAAkB,mJAC/B,MAAMG,UAAS,CAACK,WAAW,CAACU,cAAc,CAAErB,aAAa,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}